CREATE TABLESPACE TS_VANITYFAIR DATAFILE 'E:\oracle\oradata\orcl\VANITYFAIR.DBF' SIZE 100M AUTOEXTEND ON;

CREATE USER "VANITYFAIRSTANDARD"
IDENTIFIED BY "VANITYFAIR!STANDARD"
DEFAULT TABLESPACE TS_VANITYFAIR
TEMPORARY TABLESPACE TEMP;

GRANT DBA TO VANITYFAIRSTANDARD;


------------------------------------------------------------------

DROP TABLE VU0000 CASCADE CONSTRAINTS PURGE;

-- 사용자 권한
CREATE TABLE VU0000
(
    C_CD                  VARCHAR2(20) NOT NULL,
    USER_ID               VARCHAR2(20) NOT NULL,
    USER_NM               VARCHAR2(300),
    EMP_ID                VARCHAR2(20),
    PWD                   VARCHAR2(200),
    SUPER_YN              VARCHAR2(1) DEFAULT 'N'
        CONSTRAINT YN0001
            CHECK (SUPER_YN IN ('Y', 'N')),
    USE_YN                VARCHAR2(1) DEFAULT 'Y'
        CONSTRAINT YN0002
            CHECK (USE_YN IN ('Y', 'N')),
    PWD_MOD_YMDHMS        DATE,
    LAST_LOGIN_YMDHMS     DATE,
    LAST_LOGIN_IP         VARCHAR2(150),
    ERR_CNT               NUMBER      DEFAULT 0,
    SKIN_CD               VARCHAR2(20),
    USER_TYPE             VARCHAR2(20),
    INIT_PAGE_CD          VARCHAR2(20),
    OUT_EMP_YN            VARCHAR2(1) DEFAULT 'N'
        CONSTRAINT YN0003
            CHECK (OUT_EMP_YN IN ('Y', 'N')),
    OUT_ORG_NM            VARCHAR2(300),
    OUT_COM_NM            VARCHAR2(300),
    OTHER_C_CD            VARCHAR2(20),
    OTHER_USER_ID         VARCHAR2(20),
    DMT_USE_YN            VARCHAR2(1) DEFAULT 'N'
        CONSTRAINT YN0004
            CHECK ("DMT_USE_YN" = 'Y' OR "DMT_USE_YN" = 'N'),
    STA_YMD               VARCHAR2(8),
    END_YMD               VARCHAR2(8),
    WIDGET_POS            VARCHAR2(4000),
    NOTE                  VARCHAR2(4000),
    INS_USER_ID           VARCHAR2(20),
    INS_YMDHMS            TIMESTAMP(6),
    MOD_USER_ID           VARCHAR2(20),
    MOD_YMDHMS            TIMESTAMP(6),
    INS_GYMDHMS           TIMESTAMP(6) WITH TIME ZONE,
    MOD_GYMDHMS           TIMESTAMP(6) WITH TIME ZONE,
    AUTH_ADMIN_YN         VARCHAR2(1),
    BF_PWD                VARCHAR2(200),
    COM_EXCE_GRANT_YN     VARCHAR2(1),
    PSN_INFO_SEPA_STOR_YN VARCHAR2(1) DEFAULT 'N',
    CONSTRAINT PK_I_VU0000
        PRIMARY KEY (C_CD, USER_ID)
);
/

COMMENT ON TABLE VU0000 IS '(VU0000)권한_사용자';
COMMENT ON COLUMN VU0000.C_CD IS '회사코드';
COMMENT ON COLUMN VU0000.USER_ID IS '사용자ID';
COMMENT ON COLUMN VU0000.USER_NM IS '사용자명';
COMMENT ON COLUMN VU0000.EMP_ID IS '사번';
COMMENT ON COLUMN VU0000.PWD IS '비밀번호';
COMMENT ON COLUMN VU0000.SUPER_YN IS 'SUPER_여부';
COMMENT ON COLUMN VU0000.USE_YN IS '사용여부';
COMMENT ON COLUMN VU0000.PWD_MOD_YMDHMS IS '비밀번호수정일시';
COMMENT ON COLUMN VU0000.LAST_LOGIN_YMDHMS IS '최종로그인일시';
COMMENT ON COLUMN VU0000.LAST_LOGIN_IP IS '최종로그인IP';
COMMENT ON COLUMN VU0000.ERR_CNT IS '오류횟수';
COMMENT ON COLUMN VU0000.SKIN_CD IS '스킨코드';
COMMENT ON COLUMN VU0000.USER_TYPE IS '사용자유형';
COMMENT ON COLUMN VU0000.INIT_PAGE_CD IS '초기화면코드';
COMMENT ON COLUMN VU0000.OUT_EMP_YN IS '외부직원여부';
COMMENT ON COLUMN VU0000.OUT_ORG_NM IS '외부조직명';
COMMENT ON COLUMN VU0000.OUT_COM_NM IS '외부회사명';
COMMENT ON COLUMN VU0000.OTHER_C_CD IS '타회사코드';
COMMENT ON COLUMN VU0000.OTHER_USER_ID IS '타사용자ID';
COMMENT ON COLUMN VU0000.DMT_USE_YN IS '디멘터사용여부';
COMMENT ON COLUMN VU0000.STA_YMD IS '시작일';
COMMENT ON COLUMN VU0000.END_YMD IS '종료일';
COMMENT ON COLUMN VU0000.WIDGET_POS IS '위젯위치';
COMMENT ON COLUMN VU0000.NOTE IS '비고';
COMMENT ON COLUMN VU0000.INS_USER_ID IS '입력자ID';
COMMENT ON COLUMN VU0000.INS_YMDHMS IS '입력일시';
COMMENT ON COLUMN VU0000.MOD_USER_ID IS '작업자ID';
COMMENT ON COLUMN VU0000.MOD_YMDHMS IS '수정일시';
COMMENT ON COLUMN VU0000.INS_GYMDHMS IS '입력일시_현지';
COMMENT ON COLUMN VU0000.MOD_GYMDHMS IS '수정일시_현지';
COMMENT ON COLUMN VU0000.AUTH_ADMIN_YN IS '권한ADMIN 여부';
COMMENT ON COLUMN VU0000.BF_PWD IS '이전비밀번호';
COMMENT ON COLUMN VU0000.COM_EXCE_GRANT_YN IS '회사예외부여가능여부';
COMMENT ON COLUMN VU0000.PSN_INFO_SEPA_STOR_YN IS '개인정보분리보관여부';

-- 사용자 마스터 정보
CREATE TABLE VU0010
(
    C_CD          VARCHAR2(20) NOT NULL,
    USER_ID       VARCHAR2(20) NOT NULL,
    USER_NAME     VARCHAR2(300),
    USER_PASSWORD VARCHAR2(200),
    USER_BIRTHDAY VARCHAR2(200),
    USER_MAIL     VARCHAR2(200),
    USER_NUMBER   VARCHAR2(200),
    USER_ADDRESS  VARCHAR2(200),
    USER_POINTS   VARCHAR2(200),
    USER_RESDATE  VARCHAR2(8)
);
SELECT *
FROM VU0000;
-- 사용자 주소
CREATE TABLE VU0020
(
);

CREATE SEQUENCE SEQ_VP0000
START WITH 1
INCREMENT BY 1
NOMAXVALUE;

DROP TABLE VP0000;

CREATE TABLE VP0000
(
    ID         NUMBER,
    TITLE      VARCHAR2(60),
    CONTENT    VARCHAR2(200),
    AUTHOR     VARCHAR2(20),
    INS_YMDHMS TIMESTAMP(6) WITH TIME ZONE,
    MOD_YMDHMS TIMESTAMP(6) WITH TIME ZONE,
    CONSTRAINT PK_I_VP0000
        PRIMARY KEY (ID)
);

SELECT *
FROM VP0000